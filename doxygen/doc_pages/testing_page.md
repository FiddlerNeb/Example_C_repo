@page unittests Unit Tests
@tableofcontents
@section debug Debug testing

<p>
During development, additional printf's were inserted into the algorithm to show step-by-step execution and results.<br>
I also used breakpoints to step through the code and observe the results.<br>
</p>
<code>
Initialization complete<br>
Size before: 24<br>
{
 0x3, 0x74, 0x4, 0x4, 0x4, 0x35, 0x35, 0x64, 
 0x64, 0x64, 0x64, 0x0, 0x0, 0x0, 0x0, 0x0, 
 0x56, 0x45, 0x56, 0x56, 0x56, 0x9, 0x9, 0x9, 
}<br>
//debug step-by-step<br>
{
 0x8A, 0x3, 0x74, 0x4, 0x4, 0x4, 0x35, 0x35, 
 0x64, 0x64, 0x64, 0x64, 0x0, 0x0, 0x0, 0x0, 
 0x0, 0x56, 0x45, 0x56, 0x56, 0x56, 0x9, 0x9, 
}
{
 0x8A, 0x3, 0x74, 0x83, 0x4, 0x4, 0x35, 0x35, 
 0x64, 0x64, 0x64, 0x64, 0x0, 0x0, 0x0, 0x0, 
 0x0, 0x56, 0x45, 0x56, 0x56, 0x56, 0x9, 0x9, 
}
{
 0x8A, 0x3, 0x74, 0x83, 0x4, 0x35, 0x24, 0x64, 
 0x64, 0x64, 0x64, 0x64, 0x0, 0x0, 0x0, 0x0, 
 0x0, 0x56, 0x45, 0x56, 0x56, 0x56, 0x9, 0x9, 
}
{
 0x8A, 0x3, 0x74, 0x83, 0x4, 0x35, 0x24, 0x64, 
 0x0, 0x5A, 0x56, 0x45, 0x64, 0x0, 0x0, 0x0,
 0x0, 0x56, 0x45, 0x56, 0x56, 0x56, 0x9, 0x9,
}
{
 0x8A, 0x3, 0x74, 0x83, 0x4, 0x35, 0x24, 0x64,
 0x0, 0x5A, 0x56, 0x45, 0x83, 0x56, 0x56, 0x9,
 0x9, 0x9, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
}
<br>
Size Compressed: 16<br>
Compress Time Taken: 7ms<br>
{<br>
 0x8A, 0x3, 0x74, 0x83, 0x4, 0x35, 0x24, 0x64,<br>
 0x0, 0x5A, 0x56, 0x45, 0x83, 0x56, 0x9, 0x30,<br>
}
<br>
Size decompressed: 0<br>
Decompress Time Taken: 0ms<br>
{<br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,<br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,<br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,<br>
}
</code>
@section passfail Pass Fail Testing
<p>
Test results for pass/fail testing, testing against the sample input
</p>
***PASS***<br>
<code>
Initialization complete<br>
Size before: 24<br>
{<br>
 0x3, 0x74, 0x4, 0x4, 0x4, 0x35, 0x35, 0x64,<br>
 0x64, 0x64, 0x64, 0x0, 0x0, 0x0, 0x0, 0x0,<br>
 0x56, 0x45, 0x56, 0x56, 0x56, 0x9, 0x9, 0x9,<br>
}
<br>
Size Compressed: 16<br>
Compress Time Taken: 0ms<br>
{<br>
 0x8A, 0x3, 0x74, 0x83, 0x4, 0x35, 0x24, 0x64,<br>
 0x0, 0x5A, 0x56, 0x45, 0x83, 0x56, 0x9, 0x30,<br>
}
<br>
Size decompressed: 0<br>
Decompress Time Taken: 0ms<br>
{<br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,<br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,<br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,<br>
}
</code>
@section cornercase Corner Case Testing
<p>
Test results for corner case testing, testing against chosen inputs which progressively test the algorithm more and more. Limited to what I could imagine would be difficult for the algorithm and do manually within the given time.<br>
</p>

@subsection twos all sequences of 2, input size 24
<code>
Initialization complete
<br>Size before: 24
<br>{<br>
0x3A, 0x3A, 0x7F, 0x7F, 0xC2, 0xC2, 0x1D, 0x1D, <br>
0xE4, 0xE4, 0x56, 0x56, 0xA9, 0xA9, 0x8, 0x8, <br>
0xBE, 0xBE, 0x42, 0x42, 0x99, 0x99, 0x6C, 0x6C,
}
<br><br>
Size Compressed: 18
<br>Compress Time Taken: 0ms
<br>{<br>
0x3A, 0x22, 0x7F, 0xC2, 0x22, 0x1D, 0xE4, 0x22, <br>
0x56, 0xA9, 0x22, 0x8, 0xBE, 0x22, 0x42, 0x99, <br>
0x22, 0x6C,
}
<br><br>
Size decompressed: 0
<br>Decompress Time Taken: 0ms
<br>{<br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,
}
<br><br>
</code>
@subsection matchunmatch half matched, then half unmatched sequences, input size 24
**_PASS_**
<code>

Initialization complete
<br>Size before: 24
<br>{<br>
0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, <br>
0xAA, 0xAA, 0xAA, 0xAA, 0x1C, 0x2D, 0x3E, 0x4F, <br>
0x50, 0x61, 0x72, 0x83, 0x94, 0xA5, 0xB6, 0xC7,
}
<br><br>
Size Compressed: 17
<br>Compress Time Taken: 0ms
<br>{<br>
0xAA, 0x75, 0xAA, 0x1F, 0x1C, 0x2D, 0x3E, 0x4F, <br>
0x50, 0x61, 0x72, 0x83, 0x94, 0xA5, 0xB6, 0xC7, <br>
0xD0,
}
<br><br>
Size decompressed: 0
<br>Decompress Time Taken: 0ms
<br>{<br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,
}
<br><br></code>
@subsection unmatchmatch half unmatched, then half matched sequences, input size 24
**_PASS_**
<br><br></code>
<code>

Initialization complete
<br>Size before: 24
<br>{<br>
0x1C, 0x2D, 0x3E, 0x4F, 0x50, 0x61, 0x72, 0x83, <br>
0x94, 0xA5, 0xB6, 0xC7, 0xAA, 0xAA, 0xAA, 0xAA, <br>
0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA, 0xAA,
}
<br><br>
Size Compressed: 17
<br>Compress Time Taken: 0ms
<br>{<br>
0x8F, 0x1C, 0x2D, 0x3E, 0x4F, 0x50, 0x61, 0x72, <br>
0x83, 0x94, 0xA5, 0xB6, 0xC7, 0xD7, 0xAA, 0xAA, <br>
0x50,
}
<br><br>
Size decompressed: 0
<br>Decompress Time Taken: 0ms
<br>{<br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,
}
<br><br></code>
@subsection allunmatch all unmatched sequences, input size 24

<p>
Uncompressible, but algorithm should not corrupt program nor cause any kind of hard fault.
</p>
***PASSED***
Initialization complete
<br>Size before: 24
<br>{<br>
 0x3A, 0x7F, 0xC2, 0x1D, 0xE4, 0x56, 0xA9, 0x8, <br>
 0xBE, 0x42, 0x99, 0x6C, 0xF1, 0x2E, 0x75, 0xD3, <br>
 0x11, 0x84, 0x5B, 0x67, 0x90, 0xAD, 0x38, 0xCB,
}
<br><br>
Size Compressed: 24
<br>Compress Time Taken: 0ms
<br>{<br>
 0x3A, 0x7F, 0xC2, 0x1D, 0xE4, 0x56, 0xA9, 0x8, <br>
 0xBE, 0x42, 0x99, 0x6C, 0xF1, 0x2E, 0x75, 0xD3, <br>
 0x11, 0x84, 0x5B, 0x67, 0x90, 0xAD, 0x38, 0xCB,
}
<br><br>
Size decompressed: 0
<br>Decompress Time Taken: 0ms
<br>{<br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,
}
<br><br></code>
@subsection big2x sample input x2, input size 63
***PASS***
<code>

Initialization complete
<br>Size before: 63
<br>{<br>
0x1A, 0x1A, 0x2B, 0x2B, 0x2B, 0x3C, 0x3C, 0x4D, <br>
0x4D, 0x4D, 0x5E, 0x5E, 0x6F, 0x6F, 0x6F, 0x11, <br>
0x11, 0x22, 0x22, 0x22, 0x33, 0x33, 0x44, 0x44, <br>
0x44, 0x55, 0x55, 0x66, 0x66, 0x66, 0x10, 0x20, <br>
0x30, 0x40, 0x50, 0x60, 0x70, 0x71, 0x72, 0x73, <br>
0x13, 0x23, 0x34, 0x45, 0x57, 0x14, 0x25, 0x36, <br>
0x47, 0x58, 0x15, 0x26, 0x37, 0x48, 0x59, 0x16, <br>
0x27, 0x38, 0x49, 0x5A, 0x17, 0x28, 0x39,
}
<br><br>
Size Compressed: 53
<br>Compress Time Taken: 0ms
<br>{<br>
0x1A, 0x23, 0x2B, 0x3C, 0x23, 0x4D, 0x5E, 0x23, <br>
0x6F, 0x11, 0x23, 0x22, 0x33, 0x23, 0x44, 0x55, <br>
0x23, 0x66, 0x10, 0x1E, 0x20, 0x30, 0x40, 0x50, <br>
0x60, 0x70, 0x71, 0x72, 0x73, 0x13, 0x23, 0x34, <br>
0x45, 0x57, 0x14, 0x25, 0x36, 0x47, 0x58, 0x15, <br>
0x26, 0x37, 0x48, 0x59, 0x16, 0x27, 0x38, 0x49, <br>
0x5A, 0x17, 0x28, 0x39, 0xD0,
}
<br><br>
Size decompressed: 0
<br>Decompress Time Taken: 0ms
<br>{<br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x80, 0x0, 0x0, 0x0, 0x80, 0x0, 0x0, 0x0, <br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x35, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x3F, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,
}
<br><br></code>
@subsection big1 sample input +1, input size 25
**_PASS_**
</code>
@section randomcase Random/all Case Testing

<p>
Test results for random/all case testing. I've set up a crude test automation setup on my main(), though professionally I'd use a tool like parasoft or polyspace unit test, which would help with this exact task.<br>
I used the c rand() function to generate random numbers, match lengths, array sizes, 
</p>
***PASS***<br>
<code>
Initialization complete
<br>Size before: 24
<br>{<br>
 0xAA, 0xAA, 0xBB, 0xBB, 0xCC, 0xCC, 0xDD, 0xDD, <br>
 0xEE, 0xEE, 0x11, 0x11, 0x22, 0x22, 0x33, 0x33, <br>
 0x44, 0x44, 0x66, 0x77, 0x88, 0x99, 0x0, 0x0,
}
<br><br>
Size Compressed: 20
<br>Compress Time Taken: 0ms
<br>{<br>
 0xAA, 0x22, 0xBB, 0xCC, 0x22, 0xDD, 0xEE, 0x22, <br>
 0x11, 0x22, 0x22, 0x33, 0x44, 0x2C, 0x66, 0x77, <br>
 0x88, 0x99, 0x82, 0x0,
}
<br><br>
Size decompressed: 0
<br>Decompress Time Taken: 0ms
<br>{<br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, <br>
 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0,
}
<br><br>
</code>
@section regression Regression Testing
<p>
Software, differently than most hardware, is interconnected to an extent that one change is likely to affect other behaviors in unexpected ways. This can be mitigated through modular code design but not completely eliminated. Regression testing further reduces the risk to other behaviors by re-testing previously known-good behaviors. This is typically automated so that this can be done repeatedly.<br><br>
For this assignment I programmed a few functions to act as my regression test framework which allowed me to keep an eye on previous pass rates as I made changes and approached new test cases.<br>
</p>
<code>
  if (!regression_test_basic())
    return;
  if (!regression_test_pairs())
    return;
  if (!regression_test_matched_unmatched())
    return;
  if (!regression_test_unmatched_matched())
    return;
  if (!regression_test_all_unmatched())
    return;
  if (!regression_test_len25())
    return;
</code>
@section perftest Performance Testing (customer acceptance)
<p>
The goal of the compression algorithm is to achieve maximum compression without sacrificing throughput during the compression or decompression. I expanded my random input unit test to also measure compression % as well as execution time. These have limitations on accuracy but should give a rough idea of both.
</p>
<code>
Max match size 4
ave cmpress %: 93%
ave time: 1ms
Max match size 8
ave cmpress %: 80%
ave time: 1ms
Max match size 12
ave cmpress %: 76%
ave time: 1ms
Max match size 16
ave cmpress %: 73%
ave time: 1ms
Max match size 20
ave cmpress %: 71%
ave time: 1ms
Max match size 24
ave cmpress %: 70%
ave time: 1ms
Max match size 28
ave cmpress %: 69%
ave time: 1ms
Max match size 32
ave cmpress %: 69%
ave time: 1ms
Max match size 36
ave cmpress %: 69%
ave time: 1ms
Max match size 40
ave cmpress %: 67%
ave time: 1ms
Max match size 44
ave cmpress %: 68%
ave time: 1ms
All tests Passed
</code>
